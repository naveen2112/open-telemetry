<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSRF Token -->
    {{"{% csrf_token %}"}}

    <title>Project List | Hubble</title>

    <!-- Fonts -->
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <!-- Styles -->
    <link href="https://hubble.mallow-tech.com/css/app.css" rel="stylesheet">
    <!-- Tailwind elements -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
</head>

<body class="min-h-screen bg-gray-50">

    <div class="flex h-screen">
    {% include '/layouts/sidebar.html' %}


    <div class="overflow-hidden max-h-screen flex main-screen grow flex-col">
        <div class="header bg-white">
            <div class="px-5 pt-9 bg-mild-violet pb-7" x-data="userHeaderDetails()">
                <div class="flex justify-between mb-7 items-center">
                    <div>
                        <div class="text-dark-black text-lg mb-1 leading-none">Project List</div>
                        <h1>Header</h1>
                        <div class="text-dark-black-50 text-sm">List of Projects</div>
                    </div>
                </div>

            </div>
        </div>
        <div class="overflow-auto grow bg-light-violet content-page">
            <div class="px-5 h-full">
                <span
                    class="text-dark-red bg-dark-red-10 text-dark-blue bg-dark-blue-10 text-mild-green bg-mild-green-10 text-dark-black bg-dark-black-10 rounded-xl px-1.5 py-0.5 w-14 h-14"
                    style="display: none;"></span>
                <h1>This is the location of commands in page</h1>
                <h1>This is the location of graph plot</h1>
                {% block body %}
                {% endblock %}
            </div>
        </div>
    </div>


    <!-- Loader -->
    <div class="page-loader">
        <div class="gooey">
            <span class="dot"></span>
            <div class="dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>


    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <!-- jQuery Modal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <!-- Date range picker -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <!-- jQuery Mask Plugins -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap-collapse.js"></script>


    <script>
        let showLoader = () => {
            $('.page-loader').show();
        }
        let hideLoader = () => {
            $('.page-loader').hide();
        }
 
        $(function () {
            $(".sub-category a").accordion();
            document.querySelector('.nav-animation').addEventListener('mouseleave', (event) => { $(".sub-category a").accordion('hide'); });
        })
 
        function userHeaderDetails() {
            return {
                statusFilter: false
            };
        }
        function descriptionUrlChanges() {
            $(".description-data").each(function () {
                let $words = $(this).text().split(' ');
                for (let i in $words) {
                    if (($words[i].toLowerCase().indexOf('http://') === 0) || (($words[i].toLowerCase().indexOf('https://') === 0))) {
                        $words[i] = '<a class="text-blue-500 underline" tabindex="-1" href="' + $words[i] + '" target="_blank" >' + $words[i] + '</a>';
                    }
                    else if (($words[i].includes('http://') || $words[i].includes('https://')) && ($words[i].includes('\n'))) {
                        let $subwords = $words[i].split('\n');
                        console.log($subwords)
                        for (let j in $subwords) {
                            if (($subwords[j].indexOf('http://') === 0) || (($subwords[j].indexOf('https://') === 0))) {
                                $subwords[j] = '\n<a class="text-blue-500 underline" tabindex="-1" href="' + $subwords[j] + '" target="_blank" >' + $subwords[j] + '</a>';
                            }
                            else {
                                if (j != 0) {
                                    $subwords[j] = '\n' + $subwords[j];
                                }
                            }
                        }
                        $words[i] = $subwords.join(' ')
                    }
                    else {

                    }
                }
                $(this).html($words.join(' '));
            });
        }

        $(document).ready(function () {
            descriptionUrlChanges();
        });
        $(document).on('load', function () {
            descriptionUrlChanges();
        });

        if (!location.pathname.includes('timesheet')) {
            localStorage.removeItem('timesheetFilterUser');
            localStorage.removeItem('timesheetFilterProject');
            localStorage.removeItem('timesheetView');
            localStorage.removeItem('timesheetStartDate');
            localStorage.removeItem('timesheetEndDate');
        }

 
        $(function () {
            if ($('table.dataTable').length > 0) {
                $(this).on('init.dt', hideLoader)
                    .on('preXhr.dt', showLoader)
                    .on('xhr.dt', hideLoader)
            } else {
                hideLoader()
            }

            hideLoader()
            $('.sub-category .sidebar-active').closest('.sub-category').addClass('sidebar-active')
        })
    </script>
</div>

</body>

</html>